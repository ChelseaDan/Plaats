var app=angular.module("App",["ui.router","App.common","App.home","angularSpinners"]);app.config(function(e,o){o.otherwise("/home"),e.state("home",{url:"/home",templateUrl:"/home",controller:"homeController",controllerAs:"vm"}).state("properties",{url:"/properties",templateUrl:"/home",controller:"homeController",controllerAs:"vm"}).state("account",{url:"/account",templateUrl:"/account",controller:"accountController",controllerAs:"vm"}).state("login",{url:"/login",templateUrl:"/login",controller:"loginController",controllerAs:"vm"})});var module=angular.module("App.common",["angularSpinners"]),App;!function(e){function o(){return{restrict:"E",templateUrl:"/scripts/controllers/common/login.html",scope:{},controller:"loginController",controllerAs:"vm",bindToController:!0}}e.LoginDirective=o;var t=function(){function e(e,o,t,n){this.$scope=e,this.$http=o,this.loginService=t,this.$location=n,this.logInSelected=!1,this.signInSelected=!0,this.displaySpinner=!1}return e.prototype.submitNewUserDetails=function(){var e=this;this.displaySpinner=!0;var o={firstName:this.firstName,lastName:this.lastName,emailAddress:this.emailAddress,password:this.password};this.$http.post("/api/accounts/register",o,{withCredentials:!0}).then(function(o){e.displaySpinner=!1,e.loginService.setSignedIn(),e.$location.url("/account")},function(o){e.displaySpinner=!1})},e.prototype.submitLogInDetails=function(){var e=this;this.displaySpinner=!0;var o={emailAddress:this.emailAddress,password:this.password};this.$http.post("/api/accounts/login",o,{withCredentials:!0}).then(function(o){e.displaySpinner=!1,e.loginService.setSignedIn()},function(e){})},e.prototype.signedIn=function(){return this.loginService.getSignedIn()},e.prototype.signIn=function(){this.signInSelected=!0,this.logInSelected=!1},e.prototype.logIn=function(){this.logInSelected=!0,this.signInSelected=!1},e.$inject=["$scope","$http","loginService","$location"],e}();e.LoginController=t}(App||(App={})),angular.module("App.common").controller("loginController",App.LoginController).directive("logIn",App.LoginDirective);var App;!function(e){var o=function(){function e(){this.signedIn=!1,this.token=""}return e.prototype.setSignedIn=function(){this.signedIn=!0},e.prototype.getSignedIn=function(){return this.signedIn},e.prototype.setToken=function(e){this.token=e},e.prototype.getToken=function(){return this.token},e.inject=[],e}();e.LoginService=o}(App||(App={})),angular.module("App.common").service("loginService",App.LoginService);var App;!function(e){function o(){return{restrict:"E",templateUrl:"/scripts/controllers/common/navbar.html",scope:{},controller:"navbarController",controllerAs:"vm",bindToController:!0}}e.NavbarDirective=o;var t=function(){function e(e,o){this.$scope=e,this.loginService=o}return e.prototype.isSignedIn=function(){return this.loginService.getSignedIn()},e.$inject=["$scope","loginService"],e}();e.NavbarController=t}(App||(App={})),angular.module("App.common").controller("navbarController",App.NavbarController).directive("navBar",App.NavbarDirective);var module=angular.module("App.home",[]),App;!function(e){var o;!function(e){function o(){return{restrict:"E",templateUrl:"/scripts/controllers/home/home.html",scope:{},controller:"homeController",controllerAs:"vm",bindToController:!0}}e.HomeDirective=o;var t=function(){function e(){console.log("Constructed home controller")}return e}();e.HomeController=t}(o=e.home||(e.home={}))}(App||(App={})),angular.module("App.home").controller("homeController",App.home.HomeController).directive("home",App.home.HomeDirective);